.terrain {
  pointer-events: none;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  transform-origin: left top;

  .terrain-earth {
    background-image: url("/public/assets/terrain/earth.webp");
  }

  .terrain-vault {
    background-image: url("/public/assets/terrain/vault.webp");
  }
}

.fow,
.lights-and-shadows,
.debug-visualization,
.terrain-editor {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  transform-origin: left top;
  transform: rotateX(60deg) rotateZ(45deg);

  z-index: 99;
  pointer-events: none;
}

:not([data-editing-active="true"]) .fow {
  z-index: 9999999;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  transition: background-image 1s ease-in-out;

  img {
    box-shadow:
      0 0 50px 25px #000000 inset,
      0 0 0 150px #000000;
  }
}

.lights-and-shadows {
  z-index: 9999998;
  filter: blur(25px);

  img {
    position: absolute;
  }
}

.debug-visualization {
  z-index: 1;
}

.map {
  position: absolute;
  transform-origin: left top;

  z-index: 1;
  pointer-events: none;
}

&[data-isometric] {
  transform-style: preserve-3d;
  transform: rotateX(60deg) rotateZ(45deg);

  .unit {
    transform: rotateX(135deg) rotateY(135deg) rotateZ(150deg) translate(-5px, 8px);
  }
}
